@using TodoListApp.WebApp.Helpers;
@model TodoListApp.Models.Comments.CommentModel;

@{
	Layout = null;
}

<style>
	.comment {
		max-width: 50%;
		min-width: 300px;
		width: fit-content;
	}

	.comment-left {
		margin-right: auto;
	}

	.comment-right {
		margin-left: auto;
		background-color: #e6f7ff;
	}
</style>

<div class="bg-white rounded shadow-sm p-3 mb-3 position-relative"
	 style="max-width: 75%; min-width: 300px; word-break: break-word;">
	<div class="d-flex justify-content-between align-items-start mb-2">
		<vc:user user-id="@Model.CreatedUserId" />
		<div class="dropdown">
			<button class="btn btn-sm" type="button" data-bs-toggle="dropdown" aria-expanded="false">
				<i class="fas fa-ellipsis-v"></i>
			</button>
			<ul class="dropdown-menu dropdown-menu-end">
				<li>
					<button class="dropdown-item btn btn-sm btn-link text-danger delete-comment-btn"
							data-id="@Model.Id"
							data-content="@Model.Content"
							data-task="@Model.TaskId"
							data-user="@Model.CreatedUserId">
						Delete
					</button>
				</li>
				<li>
					<button class="dropdown-item btn btn-sm btn-link text-muted edit-comment-btn"
							data-id="@Model.Id"
							data-content="@Model.Content"
							data-task="@Model.TaskId"
							data-user="@Model.CreatedUserId">
						Edit
					</button>
				</li>
			</ul>
		</div>
	</div>
	<div class="ps-2 mb-2 border-start border-2 border-primary">
		<p class="mb-0 text-break">@Model.Content</p>
	</div>
	<small class="text-muted d-block text-end">@Model.CreatedTime.ToString("yyyy-MM-dd HH:mm")</small>
</div>

